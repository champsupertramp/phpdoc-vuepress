# phpDocumentor VuePress template

[![GitHub release](https://img.shields.io/github/tag/nelson6e65/phpdoc-vuepress.svg)](https://github.com/nelson6e65/phpdoc-vuepress/tags)
[![Latest Version](https://img.shields.io/packagist/v/nelson6e65/phpdoc-vuepress.svg?label=stable)](https://packagist.org/packages/nelson6e65/phpdoc-vuepress)
[![Latest unstable Version](https://img.shields.io/packagist/vpre/nelson6e65/phpdoc-vuepress.svg?label=unstable)](https://packagist.org/packages/nelson6e65/phpdoc-vuepress#dev-master)

[![License](https://img.shields.io/github/license/nelson6e65/phpdoc-vuepress.svg)](LICENSE)


[phpDocumentor template](http://www.phpdoc.org/docs/latest/getting-started/changing-the-look-and-feel.html) that generates [VuePress](https://vuepress.vuejs.org) documentation of your API.

The main use-case for this template is to generate simple and nice looking API documentation pages to be integrated in a VuePress project.

> Only tested in the default theme of VuePress.

Example of documentation generated with this template: https://nelson6e65.github.io/php_nml/api/

> **Special note:** This template is based on Markdown template created by [@cvuorinen](https://github.com/cvuorinen) in [cvuorinen/phpdoc-markdown-public](https://github.com/cvuorinen/phpdoc-markdown-public).


## Installation

Install with composer:

```bash
composer require --dev nelson6e65/phpdoc-vuepress
```


> At the moment, this package has not PHP dependencies for usage,

> You may need to set the composer option [minimum-stability](https://getcomposer.org/doc/04-schema.md#minimum-stability) to 'dev' in order to be able to install pre-releases.

## Usage

> Is highly recommended to use a global installation of `phpdoc`, vua composer global (`composer global require --dev phpdocumentor/phpdocumentor`) or the `.phar` file.

Run phpDocumentor and set template as `vendor/nelson6e65/phpdoc-vuepress/data/templates/vuepress`.


```bash
phpdoc -d="src/" -t="docs/api/" --template="vendor/nelson6e65/phpdoc-vuepress/data/templates/vuepress"
```

More information about the available arguments can be found at [running phpDocumentor](http://www.phpdoc.org/docs/latest/guides/running-phpdocumentor.html).

## Setup

### Configuring phpdoc

https://github.com/nelson6e65/php_nml/blob/master/phpcs.xml

Add a file called `phpdoc.xml` with the following content to the root of your project and invoke the `phpdoc` command without arguments. Modify the configuration to suit your project.

```xml
<?xml version="1.0" encoding="UTF-8" ?>
<phpdoc>
    <parser>
        <visibility>public,protected</visibility>
        <target>output/doc</target>
    </parser>

    <transformer>
        <target>docs/api</target>
    </transformer>

    <transformations>
        <template name="vendor/nelson6e65/phpdoc-vuepress/data/templates/vuepress" />
    </transformations>

    <files>
        <directory>src</directory>
    </files>
</phpdoc>
```

More information about [configuring phpDocumentor](http://www.phpdoc.org/docs/latest/references/configuration.html).

### Configure routes in VuePress

Create **`docs/.vuepress/config.js`**





```js
module.exports = {
  // Output build
  dest: 'output/docs/php_nml',
  base: '/php_nml/',

  markdown: {
    lineNumbers: false,
    toc: { includeLevel: [1, 2, 3] },
  },

  themeConfig: {        
    nav: [          
      { text: 'API', link: '/api/' },
    ],

    sidebar: {          
      '/api/': [
        {
          title: 'API',
          collapsable: false,
          children: [
            '',
            'classes',
            'interfaces',
            'traits',
            'functions',
            'constants'
          ]
        }
      ],
      '/': [
        ''
      ]
    },
    sidebarDepth: 3,

    // Repo
    repo: 'nelson6e65/php_nml',
    docsDir: 'docs',
    editLinks: true
  }
}
```

> Extract from [docs/.vuepress/config.js](https://github.com/nelson6e65/php_nml/blob/master/docs/.vuepress/config.js)

> Read mor about recommended directory structure at https://vuepress.vuejs.org/guide/directory-structure.html

## Recommendations

- **Do not track the API route directory with Git**. This files are auto-generated with the `phpdoc` tool, so there is not need to track them. Add to your `.gitignore`:
```bash
# Autogenerated API documentation
docs/api/
```

- **Restrict visibility to protected members**. By default, all members are parsed. So, you need to config `--visibility` to ignore `private` methods:
```bash
phpdoc --visibility="public,protected"
```
or
```xml
  <parser>
    <!-- Only Public and Protected members are parsed -->
    <visibility>public,protected</visibility>
  </parser>
```
